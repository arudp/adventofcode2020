lanes: list = [
    "......##....#...#..#.#....#....",
    ".......#...#..#..#....##.......",
    "#.#...#........###.#.##..#.....",
    ".......#.....##.#..##...##.##..",
    ".#...#.#...##..........#..#....",
    "#.......##.....###.#...#......#",
    ".........#....#.#.......#..#...",
    "..#.......####.......###..##...",
    ".#.#.##..#.#...##..#...###...##",
    "...................#...........",
    "....#.#.......#..........#.#..#",
    "..#.#...........####.#.......#.",
    ".....#.##..#..##..#.#...#......",
    "#.##...###..#................##",
    "...#...#...#..##.#............#",
    "#.##....##....#........#..#....",
    "..#......#.#.....##.......#....",
    ".......#......#....#......#....",
    ".#........##.....#.#...#...#.#.",
    "..........##.#...#..#..........",
    "#####..##......#.....#......#.#",
    "......#...............##...#...",
    "..#.#.##..#...#.#........#...#.",
    "..........#......#..........###",
    "..#...##.##..##..........#.....",
    "........#.##.#.....#..#...#....",
    "#.....#.........#..............",
    "..........##.##....#..#..#.....",
    "..#...........#.......#........",
    "........#..#.....#.#.#...#.....",
    "#.......##.....#.....#...#.##..",
    "###.#.#....#..#.....#........#.",
    "..#..#..#..........#....#....#.",
    "..#...##...#.#.##.....#..#.....",
    "...#....###...........##.#.....",
    ".##.................##.#.......",
    "........#...#.##..#...#........",
    ".##..#............##..........#",
    "............###.#....#..#......",
    ".....##....#.....#......#.....#",
    "....#.....#.##.......#...#.#...",
    ".##.#......#.........#...##....",
    "..##......#......#...........#.",
    ".......#.#.............#.......",
    ".##.#...#..##....##.......#....",
    "...#......##.#.#......#.....###",
    "#.#....#.......#.#......#....#.",
    "#......#.#.....#...........#..#",
    "##.#..##...#........#.##.#....#",
    ".....#........#........#...#...",
    "...............#.......#..#....",
    ".#.#.#..#.#...#.......#.....##.",
    ".#.#.............#..#....#.....",
    "....#.......#..##.........###..",
    ".#.....#.#....#..#..#....#.....",
    "........#......#.....#.#....#..",
    "##......#....##.....#.#..#.#...",
    ".#...#..#.##.#.##.##.....#.....",
    "#...#....#.........##.#....#...",
    ".........##..#.....#..#...#.#..",
    ".#............#..........#.#...",
    "...........#.....#......#.#....",
    "#...#...#.....#..#....#........",
    "#..##.....#..#.......#....#...#",
    "#..#..#..........#......#...#..",
    "...#...#.#.##.#...#....#...##..",
    "......##....##....#....##..####",
    "...###.#..#....#.......#.......",
    "#.........##......#...#........",
    "..........#....#.......#.......",
    "#....##................##....##",
    ".........#....#.#.......##.#...",
    ".....#......###.......#..#...##",
    "###.....#..##....###...........",
    ".....#...#....#.....##......###",
    ".#..#...#......##........##..#.",
    "#.#.#.#....#.............#.....",
    "......#.....##.#....#..##...#..",
    "..#............#.#....#..#...#.",
    ".............#.#...##.......#..",
    "...#....#.##.#...#.#..##...###.",
    "...#..............#.......#....",
    "......###.#............#.....#.",
    ".##...###..#.####...#..........",
    "...#..#...#.#.#..#......#..#...",
    ".#....##.###....#........#.....",
    "..#..#....#.........##.........",
    "..........##.###........#.#...#",
    ".........#...#..#........#.....",
    ".......#.....#...###...........",
    ".....#.#..##......#...#...#....",
    ".....#....#..#........##.#..#..",
    "...#...........#............#..",
    "##.....#....#.#...#...#....##..",
    "...#.....#.....#...##...#...#..",
    "...##.#..........##...#.#.##.#.",
    "....#.#.##.......#.#...#......#",
    "......###...#....#.##........#.",
    ".....#.........#...#...#..#..##",
    ".........#................#....",
    ".##..###..................#.#.#",
    ".##...........#...........#....",
    "#...#........#.....#..#...##...",
    ".....#..#...#.........#.......#",
    "..#..............#......#......",
    "#....#...............#.#.......",
    "...#........#.#....#..#.###.##.",
    ".......#..##..#...#..#...###...",
    "..........##..#.......##.##....",
    "##.#..#.#...##..........#......",
    ".#.##.#...##.....#....#....#.##",
    "...#.#......#...#.##..##.......",
    "##.......#.#......#....##..#.#.",
    "...#..#.##.........#...#.....#.",
    ".##.##..##...#........#..#.....",
    ".#.##.............#.#.#.....#..",
    ".......#.....................#.",
    "......#...#....#..#..........#.",
    "..#..#....#.#................#.",
    "..#.....#..#.#......#......###.",
    "...#...##..##....#..#...###.#..",
    "...#.....#............##......#",
    ".......#.#.#......#.....###....",
    ".....#......#.....#.........#.#",
    "#...#.#...#..#...#..#....#.....",
    "#..##...#..##.............#..#.",
    "##....##.......#.#.......#..#.#",
    "..............#...#..#......#..",
    "..#...#...#.#...#.#............",
    "#..........#...#.............#.",
    "..........##......#........#...",
    "#...#...#....#.#...........#...",
    "..#.#.#...##......#.#...#.#..#.",
    ".......#.......#.............#.",
    ".#..........#..................",
    "..##...#......#..........#....#",
    ".#..##..........#...#..........",
    "...#....#..#.#.....##..##.#..#.",
    "...#...#...#..#....##..#....#..",
    "..............#.#.....#......##",
    "..............####....#.#..#...",
    ".#........##....#...#.#...#..#.",
    ".#..##.###....#.#.....##..#....",
    "...###.#.........#..#..#.##.#..",
    ".....#..#.....#..#...##......##",
    ".#.#.##.............#...##.....",
    "....##........#........#.......",
    ".......#.....###..............#",
    "#.##.......##....#.#.....#.#...",
    "........#....#............#..##",
    "...#.#..#.......#..........#...",
    "..##....#..##......###.#.....#.",
    ".#..#.#.##....#.......#........",
    "........#.####.#.......#.##....",
    "..........##...............#...",
    ".#..#.....#....##..#..##...#..#",
    "....#.#.....#.#.........#####..",
    "...#.##....#...###.##.#..#.....",
    ".#...........#.............##.#",
    "..#....#....####.....#.#....#..",
    "......##.......#....#..#.......",
    ".####...##.#.#..#.####.#.#.....",
    "###.........#..#.#.#.#........#",
    "...#...#..#.............#.##...",
    ".........#....#......#.....#.#.",
    "...#....#......#..#......#....#",
    "..#...#..........##..##........",
    ".....##........#......#.....#..",
    "...#....#....#....#..#....#....",
    "##...#...........##............",
    ".......#..##..#.......##.#.....",
    "...............#.##.....#......",
    "#.#....##.#.....#...#..........",
    "........#......#...#......#.#.#",
    "..#..#.....#.#........#........",
    "..####.....##.#.##.......#.#.#.",
    ".#.##.#.......##......#.....#..",
    "....#.....##.........#.....#...",
    ".#.#...###.#.#..........#....#.",
    ".........##.#.#.....#..#.......",
    "......#..#...#..#..###.#.#.....",
    ".....#...#.#..#.#.......#.#...#",
    "......##........#..#...#......#",
    "#..##...#...#..#.....#..#..#..#",
    "......#....#...........#.#.....",
    "...#.......#...............#...",
    "#.........#......#.............",
    "..###..................#......#",
    "#.....#.#.#.......##....#......",
    ".........#...........#....#.#..",
    ".###....##.##..##.............#",
    ".##.#......#...#...##..........",
    "....#........###......#.#......",
    "...........#..#.##.#...........",
    ".#..#.......#......#.#####.....",
    "....##....##......#....#...#...",
    ".......#..#.....#.#...###...#.#",
    "..##.....#.......#.#.#..#.....#",
    ".#...#............#....##...#..",
    ".#..#...##.......#.............",
    "..##.......#...........#.#....#",
    "...#.#...#....#..#.....#.......",
    "...#........#...##...#.#..#.#..",
    "#........#..........#..........",
    "......#......#.........#.......",
    "...##...#.....#.......#...#.##.",
    "......##..##......#..###..#....",
    "....##....#..###.#.....##......",
    "##.##..#.....#..#..............",
    "..#.#..#....#....#....#.#...#.#",
    ".#.....##.#.##.#..#.#..........",
    "...#......##.#...##..##...#....",
    ".###.....#......#.......#.....#",
    "....##.......#.....#..#....#...",
    "..........#..##....#..##.#....#",
    "...#....#..##.#........#.#.#...",
    "...#.#...#....#.......#..##.#.#",
    "#..#..........#.#...#....#.....",
    "#..#...........................",
    "........#.....#.....#.#...#.#..",
    "#...#..#...#..........###...#.#",
    ".....##.#..##.#.#.#.##....#....",
    "#.......#....#.#..#..#..#.#....",
    "..###.#.......#.#.##...........",
    "#....#..#..........#.##..#.#...",
    "..#..#........##....#..##......",
    "#...##..#.........#.#....#.#...",
    "##..###..##...#.........#.#...#",
    "###..#....#..##...#.#..#.#.....",
    ".#.##.#......#............#....",
    ".#...#.##.#.........##.........",
    "##.....###.....#........#..#...",
    "...........##.#................",
    ".#......###......#....#..####..",
    "#...##.....#.....#..##....#.#..",
    "..#....#.......#.#.#......#...#",
    "#.....#........#....#.#...#....",
    "..##...............#....#..###.",
    ".#....#.......#..#...#.........",
    ".##.#..#..#...#..#..#....#....#",
    ".......#.#....#.....##...#.....",
    ".#....#.#.#...........#........",
    ".........#..##..#..#...#.......",
    "##..##...#......#.....#........",
    "#...........#.....#..###......#",
    ".#...........#....#...#...##.#.",
    "..............##.###.#.#####.##",
    "........#.#...#.............##.",
    "#...................###..#.##..",
    "#.....#...##...................",
    ".....##..........#..#.#........",
    ".#....##.#....#....###....#...#",
    ".......#.#...........#.#.....#.",
    "......#........###...#...##....",
    ".##..........#..#..#...........",
    "....#.......#..#.....##.#..#...",
    "..#.##......#..#.....#..#......",
    "......#...#..##....#.#..#..#.#.",
    "#.........................#...#",
    "###.#.......#......##....#..#..",
    "..##.###.#...#.............#...",
    ".....#...#...#......#....#####.",
    "#..........#.#.##.#.#.....#..#.",
    "....#.........#...#.#.........#",
    "#.##.........#...#...#.####..##",
    ".##.................#..........",
    "##.....#............#..#.#.....",
    "#.#...#.#........#........#...#",
    ".#...........#....#..#.......#.",
    ".#.......#..........##..#.##..#",
    ".#..##....#..##......#.#..##...",
    "#......#............#.......#.#",
    ".##...............#...#...#....",
    ".......##.#..#..##.....#.......",
    "...#.......#..###.....#....#...",
    "......#............#...........",
    "####............#.........#.##.",
    "#......#.#..#...#.....#..#.....",
    "...........#...#..##.......####",
    "#.#...##..#....#.#.........#.#.",
    "...#....#..#.......#.........#.",
    ".........#.#.#...#....#........",
    ".#.....#........#..#.........#.",
    "....#....#..#.....#...#........",
    "..#....#.#.....#..##...........",
    ".#...#..#..#.##.###....#.......",
    "#......##.......##..##.........",
    "...#.........#.......##.#......",
    ".#...#...#.......#........##...",
    "..#.............#.......#.....#",
    "..#...........#.#.#...#.......#",
    ".....##..#....#..............#.",
    "#.#.....#.#....................",
    ".....#..##..#...#.....#........",
    "..#.......#..####..#....#.##.#.",
    "#....#.....#.....#...#......#..",
    "..#....##...#....#..#..#.....#.",
    "..#.####..............##.......",
    ".#.........#..#...#.......##...",
    "#....#.#........#....#...#...##",
    ".....#..#....#.#..#...#.#.##...",
    ".##.................#...##.....",
    ".##.##.##...#...........#...##.",
    "..#....#..#.....#..#......##...",
    ".#...........#......#....#..#.#",
    ".#.#............#..#..#...#....",
    "....#......#.....#.#.#.....#...",
    "#.......##.............#.......",
    "....#....................#.#...",
    "......#........#..#.#.....#.#..",
    ".....#..#....#.#........#....#.",
    "...##.........#...#.##....#..#.",
    ".#....#..#...#.#.#......#......",
    "#......#.#.##.#..#..#.....##...",
    "......#....#.#...#..#.#........",
    "..#.....##.....#...#.#.......#.",
    "......#.#.....#........#.......",
    "......#.#.#...#..#.#.#.#.......",
    "..#.#.##..#..#..#.#.##...#.....",
    "......#.#.#......#.....#...#...",
    ".....#.##....#..##...#...#....#",
    "..#.....#...........#..#..##...",
    "..#..#.......#....#....###.#...",
]


WIDTH: int = len(lanes[0])
HEIGHT: int = len(lanes)


def get_next_position(
    lane: int, position: int, lane_movement: int, position_movement: int
) -> tuple:
    lane = lane + lane_movement
    position = (position + position_movement) % WIDTH
    return lane, position


def is_tree(lane: int, position: int) -> bool:
    return lanes[lane][position] == "#"


def right_1_down_1(lane: int, position: int):
    return get_next_position(lane, position, 1, 1)


def right_3_down_1(lane: int, position: int):
    return get_next_position(lane, position, 1, 3)


def right_5_down_1(lane: int, position: int):
    return get_next_position(lane, position, 1, 5)


def right_7_down_1(lane: int, position: int):
    return get_next_position(lane, position, 1, 7)


def right_1_down_2(lane: int, position: int):
    return get_next_position(lane, position, 2, 1)


STRATEGIES = [
    right_1_down_1,
    right_3_down_1,
    right_5_down_1,
    right_7_down_1,
    right_1_down_2,
]


def get_tree_count() -> int:
    multiplication = 1
    for strategy in STRATEGIES:
        position = 0
        lane = 0
        tree_count = 0
        while lane < HEIGHT:
            if is_tree(lane, position):
                tree_count += 1
            lane, position = strategy(lane, position)
        print("{} trees for strategy {}".format(tree_count, strategy.__name__))
        multiplication *= tree_count
    return multiplication


print("Tree multiplication is {}".format(get_tree_count()))
